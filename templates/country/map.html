{% extends 'base.html' %}
{% load vite %}
{% load static %}

{% block extra_css %}
    {{ block.super }}
    {% vite_css 'css/tailwind' %}
    {% vite_css 'css/leaflet-controls' %}
{% endblock %}

{% block content %}
    <header class="mx-3 mt-10 mb-8 text-center" id="page-header">
        <h1 class="text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl lg:text-5xl dark:text-white">
            Карта стран мира
        </h1>
    </header>

    {% if not DEBUG %}
        {% if user.is_authenticated %}
            {% include 'advertisement/rtb_banner.html' %}
        {% else %}
            {% include 'advertisement/rtb_floor_fullscreen_mobile.html' %}
        {% endif %}
    {% endif %}

    {% include 'country/country__map__toolbar.html' %}

    <div id="url_get_all_countries" data-url="{% url 'api__get_all_countries' %}" hidden></div>
    <div id="url_get_visited_countries" data-url="{% url 'api__get_visited_countries' %}" hidden></div>
    <div id="url_add_visited_countries" data-url="{% url 'api__add_visited_countries' %}" hidden></div>
    <div id="url_revieve_unknown_countries" data-url="{% url 'api__revieve_unknown_countries' %}" hidden></div>
    <div id="url_get_parts_of_the_world" data-url="{% url 'api__get_parts_of_the_world' %}" hidden></div>
    <div id="url_get_locations" data-url="{% url 'api__get_locations' %}" hidden></div>
    <div id="url_get_polygons" data-url="{{ URL_GEO_POLYGONS }}" hidden></div>

    <!-- Карта -->
    <div id="map" class="mx-3 mb-12 h-[560px] rounded-2xl border border-gray-200 bg-white shadow-sm dark:border-neutral-700 dark:bg-neutral-900"></div>
    <!-- ^^^ Карта -->

    {% if not user.is_authenticated %}
        {% include 'advertisement/rtb_floor_ad_mobile.html' %}
        {% include 'advertisement/rtb_floor_ad_desktop.html' %}
        {% include 'advertisement/rtb_feed.html' %}
    {% endif %}

    {% vite_asset 'js/entries/leaflet_css.js' %}
    {% vite_asset 'js/entries/map_country.js'%}
{% endblock %}
