{% extends 'base.html' %}
{% load vite %}

{% block extra_css %}
    {{ block.super }}
    {% vite_css 'css/tailwind' %}
    {% vite_css 'css/select-field' %}
{% endblock %}

{% block content %}
    <header class="mx-3 mt-10 mb-8 text-center" id="section-page_header">
        <h1 class="text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl lg:text-5xl dark:text-white">
            {% if action == 'update' %}
                Редактирование города
            {% else %}
                Добавление нового города
            {% endif %}
        </h1>
    </header>

    <div class="mx-3 mb-8 flex justify-center">
        <div class="w-full">
            <div class="rounded-2xl border border-gray-200 bg-white p-6 shadow-sm dark:border-neutral-700 dark:bg-neutral-900">
                <form method="post" class="space-y-6" id="city-create-form">
                    {% csrf_token %}

                    <!-- Страна, Регион, Город, Сувенир, Рейтинг, Дата -->
                    <div class="grid grid-cols-1 gap-x-4 gap-y-10 md:grid-cols-2 lg:grid-cols-3">
                        {% include 'city/create/select_field.html' with field=form.country %}
                        {% include 'city/create/select_field.html' with field=form.region %}
                        {% include 'city/create/select_field.html' with field=form.city %}
                        {% include 'city/create/magnet_field.html' with field=form.has_magnet %}
                        {% include 'city/create/rating_field.html' with field=form.rating %}
                        {% include 'city/create/date_input.html' %}
                    </div>

                    <!-- Третья строка: Впечатления -->
                    {% include 'city/create/textarea_field.html' with field=form.impression %}

                    <!-- Кнопка отправки -->
                    <div class="mt-6 flex justify-end">
                        <button type="submit" id="submit-button" class="w-full sm:w-auto inline-flex items-center justify-center gap-x-2 py-2.5 px-4 text-sm font-semibold rounded-lg border border-transparent bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50 disabled:pointer-events-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-neutral-800">
                            Сохранить
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    {% vite_asset 'js/entries/choices_css.js' %}
    {% vite_asset 'js/entries/city_create.js' %}
{% endblock %}
