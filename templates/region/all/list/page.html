{% extends 'base.html' %}
{% load vite %}
{% load static %}
{% load morphology %}

{% block extra_css %}
    {{ block.super }}
    {% vite_css 'css/tailwind' %}
{% endblock %}

{% block content %}
    <header class="mx-3 mt-10 mb-8 text-center" id="section-page_header">
        <h1 class="text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl lg:text-5xl dark:text-white">
            {{ page_title }}
        </h1>
    </header>

    {% if not DEBUG %}
        {% if not user.is_authenticated %}
            {% include 'advertisement/rtb_floor_fullscreen_mobile.html' %}
        {% endif %}
    {% endif %}

    {% include 'region/all/list/toolbar.html' %}

    <!-- Карточки с регионами -->
    {% if object_list %}
        <div class="mx-3 mb-8 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4" id="list-content">
            {% for region in object_list %}
                {% include 'region/all/list/card.html' %}
            {% endfor %}
        </div>
    {% else %}
        <div class="mx-3 mb-8 flex items-center justify-center">
            <div class="w-full max-w-2xl">
                {% if request.GET.filter %}
                    <div class="rounded-2xl border border-dashed border-red-200 bg-red-50 p-6 text-center shadow-sm dark:border-red-800 dark:bg-red-950/20" role="alert">
                        <p class="text-sm font-semibold text-red-700 dark:text-red-400">
                            По заданным параметрам не найдено ни одного региона
                        </p>
                    </div>
                {% else %}
                    <div class="rounded-2xl border border-dashed border-gray-200 bg-white p-6 text-center shadow-sm dark:border-neutral-700 dark:bg-neutral-900" role="alert">
                        <p class="text-sm text-gray-600 dark:text-neutral-300">
                            В {{ country_name|prepositional|title }} административно-территориальное деление на уровне регионов не предусмотрено.
                        </p>
                        <p class="mt-2 text-sm text-gray-600 dark:text-neutral-300">
                            Вы можете ознакомиться со
                            <a href="{% url 'city-all-list' %}?country={{ country_code }}" class="font-semibold text-blue-600 transition hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300">
                                списком городов {{ country_name|prepositional|title }}
                            </a>.
                        </p>
                    </div>
                {% endif %}
            </div>
        </div>
    {% endif %}
    <!-- ^^^ Карточки с регионами -->

    <!-- Пагинация -->
    {% include 'parts/pagination.html' %}
    <!-- ^^^ Пагинация -->

    {% if not DEBUG %}
        {% include 'advertisement/rtb_feed.html' %}

        {% if not user.is_authenticated %}
            {% include 'advertisement/rtb_floor_ad_mobile.html' %}
            {% include 'advertisement/rtb_floor_ad_desktop.html' %}
        {% endif %}
    {% endif %}

    {% vite_asset 'js/entries/choices_css.js' %}
    {% vite_asset 'js/entries/region_all.js' %}
{% endblock %}
