{% extends 'base.html' %}
{% load morphology %}
{% load vite %}
{% load static %}

{% block extra_css %}
    {{ block.super }}
    {% vite_css 'css/tailwind' %}
{% endblock %}

{% block content %}
    <header class="mx-3 mt-10 mb-8 text-center" id="section-page_header">
        <h1 class="text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl lg:text-5xl dark:text-white">
            {% if country_name %}
                Список посещённых городов в {{ country_name|prepositional }}
            {% else %}
                Список посещённых городов
            {% endif %}
        </h1>
    </header>

    {% if not DEBUG %}
    {% include 'advertisement/rtb_banner.html' %}
    {% endif %}

    {% include 'city/city_all__list__toolbar.html' %}

    {% if object_list %}
        <div class="mx-3 mb-8 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4" id="list-content">
            {% for city in object_list %}
                {% include 'city/city__card.html' %}
            {% endfor %}
        </div>
    {% else %}
        {% if qty_of_visited_cities > 0 %}
            <div class="mx-3 mb-8 flex items-center justify-center">
                <div class="w-full max-w-2xl">
                    <div class="rounded-2xl border border-dashed border-gray-200 bg-white p-6 text-center shadow-sm dark:border-neutral-700 dark:bg-neutral-900" role="alert" id="section-info_box">
                        {% if filter %}
                            <p class="text-sm text-gray-600 dark:text-neutral-300">
                                По выбранным параметрам фильтрации не найдено ни одного города.
                            </p>
                        {% else %}
                            <p class="text-sm text-gray-600 dark:text-neutral-300">
                                Вы не посетили ни одного города в {{ country_name|prepositional }}.
                            </p>
                            <p class="mt-2 text-sm text-gray-600 dark:text-neutral-300">
                                Можете посмотреть
                                <a href="{% url 'city-all-map' %}?country={{ country_code }}" class="font-semibold text-blue-600 transition hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300">
                                    все города {{ country_name|genitive }} на карте
                                </a>.
                            </p>
                        {% endif %}
                    </div>
                </div>
            </div>
        {% else %}
            <div class="mx-3 mb-8 flex items-center justify-center">
                <div class="w-full max-w-2xl">
                    <div class="rounded-2xl border border-dashed border-gray-200 bg-white p-6 text-center shadow-sm dark:border-neutral-700 dark:bg-neutral-900" role="alert" id="section-info_box">
                        <p class="text-sm text-gray-600 dark:text-neutral-300">
                            На данный момент Вы не сохранили ни одного посещённого города.
                        </p>
                        <p class="mt-2 text-sm font-semibold text-gray-700 dark:text-neutral-200">
                            Нажмите «Добавить город» и начните пользоваться сервисом.
                        </p>
                    </div>
                </div>
            </div>
        {% endif %}
    {% endif %}
    <!-- ^^^ Карточки с городами -->

    <!-- Пагинация -->
    {% include 'parts/pagination.html' %}
    <!-- ^^^ Пагинация -->

    {% vite_asset 'js/entries/choices_css.js' %}
    {% vite_asset 'js/entries/city_all.js' %}
{% endblock %}
