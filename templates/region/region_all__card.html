<div class="h-full" id="region_card_{{ forloop.counter }}">
    <!-- Карточка региона -->
    <div class="relative flex h-full flex-col gap-3 rounded-2xl border border-gray-200 bg-white p-4 shadow-sm transition-shadow hover:shadow-md dark:border-neutral-700 dark:bg-neutral-900 text-center"
         id="section-region_{{ forloop.counter }}">
        <div class="flex h-full flex-col gap-3">
            <!-- Заголовок -->
            <div>
                <h3 class="text-lg font-semibold text-gray-900 dark:text-white" id="subsection-region-title_{{ forloop.counter }}">
                    <a href="{{ region.get_absolute_url }}" class="hover:text-blue-600 dark:hover:text-blue-400">
                        {{ region }}
                    </a>
                </h3>
            </div>
            <!-- ^^^ Заголовок -->

            <div class="flex flex-1 flex-col gap-3">
                <!-- Федеральный округ -->
                <div id="section-area_title_{{ forloop.counter }}">
                    {% if region.area %}
                        <p class="text-sm text-gray-500 dark:text-neutral-400">
                            {{ region.area }} федеральный округ
                        </p>
                    {% endif %}
                </div>
                <!-- ^^^ Федеральный округ -->

                <div class="mt-auto flex flex-col gap-2">
                    <!-- Количество городов -->
                    <div>
                        <p class="text-sm text-gray-600 dark:text-neutral-400">
                            {% if user.is_authenticated %}
                                Посещено {{ region.num_visited }} из {{ region.num_total }}
                            {% else %}
                                Всего городов: {{ region.num_total }}
                            {% endif %}
                        </p>
                    </div>
                    <!-- ^^^ Количество городов -->

                    <!-- Прогресс бар посещённых городов -->
                    {% if user.is_authenticated %}
                        {% if region.num_visited > 0 %}
                            <div class="w-full">
                                <div class="h-2 w-full overflow-hidden rounded-full border border-sky-100 bg-sky-50 dark:border-sky-900/40 dark:bg-sky-950/20">
                                    <div class="h-full rounded-full bg-gradient-to-r transition-all duration-500 ease-out {% if region.num_visited == region.num_total and region.num_total > 0 %}from-emerald-500 to-emerald-600 dark:from-emerald-400 dark:to-emerald-500{% else %}from-sky-400/40 to-blue-500/40 dark:from-sky-500/40 dark:to-blue-600/40{% endif %}"
                                         style="width: {% widthratio region.num_visited region.num_total 100 %}%"
                                         id="progress_bar_{{ forloop.counter }}">
                                    </div>
                                </div>
                            </div>
                        {% endif %}
                    {% endif %}
                    <!-- ^^^ Прогресс бар посещённых городов -->
                </div>
            </div>
        </div>
    </div>
</div>
