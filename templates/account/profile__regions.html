<div class="card shadow mb-3">
    <div class="card-body">
        <div class="d-flex justify-content-between align-items-center">
            <h4 class="align-self-center mb-0">
                Регионы
            </h4>
            <i class="fa-regular fa-circle-question fs-4 text-body-secondary" data-bs-toggle="tooltip"
                 data-bs-title="Отображается количество посещённых городов и общее количество городов в каждом из регионов"></i>
        </div>

        {% if regions.visited %}
            <div class="mt-5">
                {% for region in regions.visited %}
                    <div class="d-flex justify-content-between small">
                        <a href="{% url 'region-selected-list' region.pk %}"
                           class="link-offset-2 link-underline-dark link-dark link-underline-opacity-50-hover link-opacity-50-hover">
                            {{ region }}
                        </a>
                        <span class="float-right">
                            {{ region.visited_cities }} из {{ region.total_cities }}
                        </span>
                    </div>

                    <div class="progress mb-3 mt-1" style="height: 10px">
                        <div class="progress-bar bg-success" role="progressbar"
                             style="width: {{ region.ratio_visited|floatformat:0 }}%"
                             aria-valuenow="{{ region.ratio_visited|floatformat:0 }}"
                             aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                {% endfor %}
            </div>
        {% else %}
            <div class="alert alert-danger text-center mt-3" role="alert" id="section-alert_no_regions">
                Вы ещё не посетили ни одного региона
            </div>
        {% endif %}

        <div class="d-flex justify-content-end mt-4 small">
            <a href="{% url 'region-all-list' %}"
               class="link-offset-2 link-underline-dark link-dark link-underline-opacity-50-hover link-opacity-50-hover">
                Посмотреть все
            </a>
        </div>

        <div class="d-flex justify-content-between mt-4 small">
            <span>
                Всего посещено: {{ regions.num_visited }}
            </span>
            <span>
                Осталось: {{ regions.num_not_visited }}
            </span>
        </div>
        <div class="progress mb-3 mt-1" style="height: 10px">
            <div class="progress-bar bg-primary" role="progressbar"
                     style="width: {{ regions.ratio_visited }}%"
                     aria-valuenow="{{ regions.ratio_visited }}"
                     aria-valuemin="0" aria-valuemax="100"></div>
            <div class="progress-bar bg-primary-subtle" role="progressbar"
                 style="width: {{ regions.ratio_not_visited }}%"
                 aria-valuenow="{{ regions.ratio_not_visited }}"
                 aria-valuemin="0" aria-valuemax="100"></div>
        </div>

        <div class="d-flex justify-content-start mt-4 small">
            <span>
                Полностью посещено: {{ regions.num_finished }}
            </span>
        </div>
        <div class="progress mb-3 mt-1" style="height: 10px">
            <div class="progress-bar bg-primary" role="progressbar"
                     style="width: {{ regions.ratio_finished }}%"
                     aria-valuenow="{{ regions.ratio_finished }}"
                     aria-valuemin="0" aria-valuemax="100"></div>
            <div class="progress-bar bg-primary-subtle" role="progressbar"
                 style="width: {{ regions.ratio_not_finished }}%"
                 aria-valuenow="{{ regions.ratio_not_finished }}"
                 aria-valuemin="0" aria-valuemax="100"></div>
        </div>
    </div>
</div>